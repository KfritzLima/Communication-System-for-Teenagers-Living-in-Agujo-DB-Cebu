"use strict";(self.webpackChunkCommunityforum=self.webpackChunkCommunityforum||[]).push([[976],{4976:(C,m,c)=>{c.r(m),c.d(m,{AdminComponent:()=>h});var a=c(2881),d=c(5207),t=c(9997),l=c(8402);function g(e,p){if(1&e&&t.nrm(0,"img",17),2&e){const n=t.XpG().$implicit;t.Y8G("src",n.image,t.B4B)}}function _(e,p){if(1&e){const n=t.RV6();t.j41(0,"div",8)(1,"div",9),t.nrm(2,"img",10),t.j41(3,"div")(4,"strong"),t.EFF(5),t.k0s(),t.nrm(6,"br"),t.j41(7,"span",11),t.EFF(8),t.nI1(9,"date"),t.k0s()()(),t.j41(10,"p",12),t.EFF(11),t.k0s(),t.DNE(12,g,1,1,"img",13),t.j41(13,"div",14)(14,"button",15),t.bIt("click",function(){const i=t.eBV(n).$implicit,r=t.XpG(2);return t.Njj(r.approve(i))}),t.EFF(15,"\u2705 Approve"),t.k0s(),t.j41(16,"button",16),t.bIt("click",function(){const i=t.eBV(n).$implicit,r=t.XpG(2);return t.Njj(r.reject(i))}),t.EFF(17,"\u274c Reject"),t.k0s()()()}if(2&e){const n=p.$implicit;t.R7$(2),t.Y8G("src",n.profileImage||"assets/user.webp",t.B4B),t.R7$(3),t.JRh(n.author),t.R7$(3),t.JRh(t.i5U(9,5,n.timestamp,"short")),t.R7$(3),t.JRh(n.content),t.R7$(),t.Y8G("ngIf",n.image)}}function u(e,p){if(1&e&&(t.j41(0,"section",6)(1,"h3"),t.EFF(2,"Pending Posts for Approval"),t.k0s(),t.DNE(3,_,18,8,"div",7),t.k0s()),2&e){const n=t.XpG();t.R7$(3),t.Y8G("ngForOf",n.posts)}}function f(e,p){1&e&&(t.j41(0,"p",18),t.EFF(1,"No posts awaiting approval."),t.k0s())}let h=(()=>{class e{router;posts=[];constructor(n){this.router=n}ngOnInit(){const n=localStorage.getItem("posts");n&&(this.posts=JSON.parse(n).map(o=>({...o,timestamp:new Date(o.timestamp)})).filter(o=>!o.approved))}approve(n){n.approved=!0,this.save(),this.posts=this.posts.filter(o=>o.id!==n.id)}reject(n){if(confirm("Are you sure you want to reject this post?")){this.posts=this.posts.filter(s=>s.id!==n.id);const r=JSON.parse(localStorage.getItem("posts")||"[]").filter(s=>s.id!==n.id);localStorage.setItem("posts",JSON.stringify(r))}}save(){const o=JSON.parse(localStorage.getItem("posts")||"[]").map(i=>this.posts.find(s=>s.id===i.id)?{...i,approved:!0}:i);localStorage.setItem("posts",JSON.stringify(o))}goToDashboard(){this.router.navigate(["/dashboard"])}logout(){localStorage.clear(),this.router.navigate(["/login"])}static \u0275fac=function(o){return new(o||e)(t.rXU(l.Ix))};static \u0275cmp=t.VBU({type:e,selectors:[["app-admin"]],decls:12,vars:2,consts:[["noPosts",""],[1,"admin-wrapper"],[1,"admin-header"],[3,"click"],[1,"logout",3,"click"],["class","moderation-section",4,"ngIf","ngIfElse"],[1,"moderation-section"],["class","post-card",4,"ngFor","ngForOf"],[1,"post-card"],[1,"post-header"],[1,"profile-img",3,"src"],[1,"timestamp"],[1,"post-content"],["class","post-image",3,"src",4,"ngIf"],[1,"actions"],[1,"approve",3,"click"],[1,"reject",3,"click"],[1,"post-image",3,"src"],[1,"empty"]],template:function(o,i){if(1&o){const r=t.RV6();t.j41(0,"div",1)(1,"header",2)(2,"h2"),t.EFF(3,"Admin Panel"),t.k0s(),t.j41(4,"div")(5,"button",3),t.bIt("click",function(){return t.eBV(r),t.Njj(i.goToDashboard())}),t.EFF(6,"\u{1f3e0} Dashboard"),t.k0s(),t.j41(7,"button",4),t.bIt("click",function(){return t.eBV(r),t.Njj(i.logout())}),t.EFF(8,"\u{1f6aa} Logout"),t.k0s()()(),t.DNE(9,u,4,1,"section",5)(10,f,2,0,"ng-template",null,0,t.C5r),t.k0s()}if(2&o){const r=t.sdS(11);t.R7$(9),t.Y8G("ngIf",i.posts.length>0)("ngIfElse",r)}},dependencies:[a.MD,a.Sq,a.bT,a.vh,d.iI],styles:[".admin-wrapper[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;background:#fff;border-radius:12px;box-shadow:0 4px 10px #0000001a;padding:2rem;font-family:Segoe UI,sans-serif}.admin-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#6c35d2;color:#fff;padding:1rem;border-radius:10px}.admin-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.admin-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#6c35d2;border:none;padding:.5rem 1rem;margin-left:.5rem;font-weight:700;border-radius:8px;cursor:pointer}.logout[_ngcontent-%COMP%]{background:#e74c3c;color:#fff}.moderation-section[_ngcontent-%COMP%]{margin-top:2rem}.post-card[_ngcontent-%COMP%]{background:#f3e8ff;border-radius:10px;padding:1rem;margin-bottom:1rem;box-shadow:0 2px 5px #0000000d}.post-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.profile-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover}.timestamp[_ngcontent-%COMP%]{font-size:.8rem;color:#777}.post-image[_ngcontent-%COMP%]{width:100%;max-height:300px;object-fit:cover;margin-top:1rem;border-radius:8px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:1rem;gap:1rem}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;padding:.5rem 1rem;border-radius:8px;font-weight:700;cursor:pointer}.approve[_ngcontent-%COMP%]{background:#2ecc71;color:#fff}.reject[_ngcontent-%COMP%]{background:#e74c3c;color:#fff}.empty[_ngcontent-%COMP%]{text-align:center;color:#999;font-style:italic;margin-top:2rem}"]})}return e})()}}]);